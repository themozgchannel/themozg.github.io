{"version":3,"sources":["media/dai-50.png","media/bat-50.png","util/web3/index.js","util/kyberData.js","util/uniswapData.js","util/getRelDeltaSlippageFree.js","store.js","util/constants.js","util/dfuse/index.js","components/Balances.js","components/Rates.js","components/Return.js","components/Stats.js","components/TxBox.js","util/dfuse/streamTransactionQuery.js","components/TxQueue.js","components/ConnexionForm.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","web3","lendingPool","lastNonce","getRelDeltaSlippageFree","uniswapRate","kyberRate","relDelta","Math","abs","max","SLIPPAGE_RATE","initWeb3","infuraKey","privateKey","a","provider","Web3","providers","HttpProvider","account","eth","accounts","privateKeyToAccount","wallet","add","defaultAccount","address","lendingPoolABI","lendingPoolSpec","abi","Contract","getTransactionCount","cancelFlashLoan","amount","utils","BN","sendTransaction","from","to","value","gas","gasPrice","floor","nonce","toHex","on","hash","store","dispatch","addTx","submitFlashLoan","daiToBat","reserveAddress","methods","flashLoan","send","initialState","isInitialized","scenarioState","ethPrivateKey","dfuseKey","ratesIndex","uniswapData","kyberData","txs","sellDaiOnUniswap","cancel","type","payload","reducer","combineReducers","main","shouldSwap","state","action","Object","assign","unshift","slice","length","random","dfuseClient","BalanceBox","currencyName","currencyLogo","userBalance","aaveLiquidity","Box","fill","elevation","pad","Image","margin","bottom","src","fit","Table","TableBody","TableRow","TableCell","align","Text","size","Balances","gap","direction","daiLogo","batLogo","MIN_RATE","min","concat","MAX_RATE","RateBox","dexName","rate","Meter","values","color","thickness","left","toFixed","connect","relDeltaSlippageFree","weight","Stats","background","textAlign","TxBox","txHash","useState","setState","error","setError","useEffect","graphql","message","errors","data","transactionLifecycle","currentState","variables","stream","join","getBgColor","Anchor","href","substr","map","tx","key","initialize","Form","onSubmit","apiKey","startsWith","createDfuseClient","network","setInterval","FormField","label","name","required","top","component","CheckBox","justify","Button","primary","Grommet","Main","horizontal","width","Boolean","window","location","hostname","match","enhancers","applyMiddleware","thunk","createStore","compose","configureStore","__INITIAL_STATE__","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"8qsiCAAAA,EAAOC,QAAU,8lK,kBCAjBD,EAAOC,QAAU,8nE,wLCKbC,EACAC,EAEAC,E,kDCRW,G,OAAA,CACb,WACA,iBACA,iBACA,iBACA,iBACA,gBACA,iBACA,iBACA,iBACA,iBACA,iBACA,gBACA,gBACA,iBACA,iBACA,iBACA,iBACA,eACA,iBACA,iBACA,iBACA,iBACA,gBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,gBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,gBACA,iBACA,iBACA,iBACA,iBACA,iBACA,gBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,gBACA,mBC7Da,GACb,SACA,iBACA,iBACA,iBACA,iBACA,iBACA,eACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,eACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,gBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,gBACA,iBACA,gBACA,iBACA,iBACA,iBACA,iBACA,iBACA,gBACA,iBACA,iBACA,iBACA,iBACA,kBCrDaC,EANiB,SAACC,EAAaC,GAC5C,IACMC,EADQC,KAAKC,IAAIJ,EAAcC,GACZE,KAAKE,IAAIL,EAAaC,GAC/C,OAAOE,KAAKE,IAAI,EAAGH,EAAWI,M,oDHW1BC,EAAQ,uCAAG,WAAOC,EAAWC,GAAlB,mBAAAC,EAAA,6DAETC,EAAW,IAAIC,IAAKC,UAAUC,aAAnB,uCAAgEN,IACjFZ,EAAO,IAAIgB,IAAKD,GAGVI,EAAUnB,EAAKoB,IAAIC,SAASC,oBAAoBT,GACtDb,EAAKoB,IAAIC,SAASE,OAAOC,IAAIL,GAC7BnB,EAAKoB,IAAIK,eAAiBN,EAAQO,QAG5BC,EAAiBC,EAAgBC,IACZ,6CAC3B5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","file":"static/js/main.40ba1ce5.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","import Web3 from 'web3';\r\nimport lendingPoolSpec from './LendingPool';\r\nimport { store } from '../../index';\r\nimport { addTx } from '../../store';\r\n\r\nlet web3;\r\nlet lendingPool;\r\nconst gasPrice = 1200000000;\r\nlet lastNonce;\r\n\r\n// declare constants\r\nconst receiver = '0x773eCfb8e34F65Db644EA3Dd447c41E5Cb5b19E2';\r\nconst params = '0x';\r\nconst daiAddress = '0xf80A32A835F79D7787E8a8ee5721D0fEaFd78108';\r\nconst batAddress = '0x85B24b3517E3aC7bf72a14516160541A60cFF19d';\r\n\r\nconst initWeb3 = async (infuraKey, privateKey) => {\r\n  // init web3\r\n  const provider = new Web3.providers.HttpProvider(`https://ropsten.infura.io/v3/${infuraKey}`);\r\n  web3 = new Web3(provider);\r\n\r\n  // add private key\r\n  const account = web3.eth.accounts.privateKeyToAccount(privateKey);\r\n  web3.eth.accounts.wallet.add(account);\r\n  web3.eth.defaultAccount = account.address;\r\n\r\n  // init contract instance\r\n  const lendingPoolABI = lendingPoolSpec.abi;\r\n  const lendingPoolAddress = '0x9E5C7835E4b13368fd628196C4f1c6cEc89673Fa';\r\n  lendingPool = new web3.eth.Contract(lendingPoolABI, lendingPoolAddress);\r\n\r\n  // init lastNonce\r\n  lastNonce = (await web3.eth.getTransactionCount(web3.eth.defaultAccount)) - 1;\r\n};\r\n\r\nconst cancelFlashLoan = () => {\r\n  // submit tx\r\n  const amount = new web3.utils.BN('0');\r\n  web3.eth\r\n    .sendTransaction({\r\n      from: web3.eth.defaultAccount,\r\n      to: web3.eth.defaultAccount,\r\n      value: amount,\r\n      gas: 5500000,\r\n      gasPrice: Math.floor(1.3 * gasPrice),\r\n      nonce: web3.utils.toHex(lastNonce),\r\n    })\r\n    .on('transactionHash', function(hash) {\r\n      store.dispatch(addTx(hash, false, true));\r\n    });\r\n};\r\n\r\nconst submitFlashLoan = daiToBat => {\r\n  // increment lastNonce\r\n  lastNonce++;\r\n  // submit tx\r\n  const reserveAddress = daiToBat ? daiAddress : batAddress;\r\n  const amount = new web3.utils.BN('1000000000000000000');\r\n  lendingPool.methods\r\n    .flashLoan(receiver, reserveAddress, amount, params)\r\n    .send({\r\n      from: web3.eth.defaultAccount,\r\n      gas: 5500000,\r\n      gasPrice: gasPrice,\r\n      nonce: web3.utils.toHex(lastNonce),\r\n    })\r\n    .on('transactionHash', function(hash) {\r\n      store.dispatch(addTx(hash, daiToBat, false));\r\n    });\r\n};\r\n\r\nexport { initWeb3, cancelFlashLoan, submitFlashLoan };\r\n","export default [\r\n  3.92143234,\r\n  3.92221543493242,\r\n  3.92588797599576,\r\n  3.92877813514662,\r\n  3.93226345199627,\r\n  3.9344936037964,\r\n  3.93685613631526,\r\n  3.94124796634994,\r\n  3.94200195560138,\r\n  3.94326911760592,\r\n  3.94612047487455,\r\n  3.9486210347202,\r\n  3.9439722333114,\r\n  3.93902217041549,\r\n  3.93864032117328,\r\n  3.93847734901781,\r\n  3.93497940468575,\r\n  3.934322010296,\r\n  3.93239358261618,\r\n  3.93142719925457,\r\n  3.92875407641265,\r\n  3.92554874196396,\r\n  3.9218440106173,\r\n  3.91792757068011,\r\n  3.91781720889324,\r\n  3.91311746867016,\r\n  3.90851819485458,\r\n  3.90625440001772,\r\n  3.90190091761937,\r\n  3.8992565504398,\r\n  3.89919135676137,\r\n  3.89653650072615,\r\n  3.89572908977686,\r\n  3.89548696643357,\r\n  3.89106386404475,\r\n  3.88955835062095,\r\n  3.88862183270014,\r\n  3.88487937799134,\r\n  3.88484317062728,\r\n  3.88002954234992,\r\n  3.87820149225909,\r\n  3.87612959986484,\r\n  3.87280458514176,\r\n  3.86891896120061,\r\n  3.86693866822545,\r\n  3.86390502203299,\r\n  3.8638191596249,\r\n  3.86305167671511,\r\n  3.86272595317526,\r\n  3.85785272977468,\r\n  3.85530943930242,\r\n  3.85349174560822,\r\n  3.8491862673058,\r\n  3.84703580417177,\r\n  3.84227137406923,\r\n  3.83863747807304,\r\n  3.83611139206533,\r\n  3.83510942265891,\r\n  3.83447824596499,\r\n  3.8301018479057,\r\n  3.82898676184812,\r\n];\r\n","export default [\r\n  3.934297,\r\n  3.94505584908454,\r\n  3.96237268949737,\r\n  3.96243321473162,\r\n  3.97245485463811,\r\n  3.98183982156868,\r\n  3.993782546689,\r\n  4.01243807954079,\r\n  4.02025701559926,\r\n  4.03906394711988,\r\n  4.05487969469481,\r\n  4.06109682546876,\r\n  4.04888064488681,\r\n  4.032715947211,\r\n  4.01957128602529,\r\n  4.01464579549527,\r\n  4.00032705168127,\r\n  3.99263210384157,\r\n  3.97572627040706,\r\n  3.95628287777281,\r\n  3.94158826731311,\r\n  3.94153010595372,\r\n  3.93467385035373,\r\n  3.92736314463578,\r\n  3.92700111095501,\r\n  3.92143185852186,\r\n  3.91375990666214,\r\n  3.8987112444758,\r\n  3.89064469002764,\r\n  3.87163445225959,\r\n  3.85446059349537,\r\n  3.85000902946923,\r\n  3.84414825921729,\r\n  3.84200253219407,\r\n  3.83878522032263,\r\n  3.83009710944869,\r\n  3.82248636716987,\r\n  3.81583385198266,\r\n  3.80840390536876,\r\n  3.80700969162658,\r\n  3.80673217798989,\r\n  3.80362071764987,\r\n  3.79893743043406,\r\n  3.79719876063605,\r\n  3.79684066496032,\r\n  3.79390690357746,\r\n  3.79347040083473,\r\n  3.7885210585252,\r\n  3.78480155333858,\r\n  3.7833569807949,\r\n  3.78207880530897,\r\n  3.78064501260381,\r\n  3.78049803864502,\r\n  3.77807723480868,\r\n  3.77697862781246,\r\n  3.7740372149056,\r\n  3.76956471770886,\r\n  3.76641187606241,\r\n  3.76581255624058,\r\n  3.76199809108586,\r\n  3.76159847032921,\r\n];\r\n","import { SLIPPAGE_RATE } from './constants';\r\n\r\nconst getRelDeltaSlippageFree = (uniswapRate, kyberRate) => {\r\n  const delta = Math.abs(uniswapRate - kyberRate);\r\n  const relDelta = delta / Math.max(uniswapRate, kyberRate);\r\n  return Math.max(0, relDelta - SLIPPAGE_RATE * 2);\r\n};\r\n\r\nexport default getRelDeltaSlippageFree;\r\n","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport kyberData from './util/kyberData';\r\nimport uniswapData from './util/uniswapData';\r\nimport getRelDeltaSlippageFree from './util/getRelDeltaSlippageFree';\r\nimport { AAVE_THRESHOLD } from './util/constants';\r\nimport { cancelFlashLoan, submitFlashLoan } from './util/web3';\r\n\r\nconst initialState = {\r\n  isInitialized: false,\r\n  /**\r\n   * scenarioState\r\n   * 0 : no arbitrage needed\r\n   * 1 : should sell BAT on Uniswap and buy on Kyber\r\n   * 2 : should cancel previous tx\r\n   * 3 : should sell BAT on Kyber and buy on Uniswap\r\n   */\r\n  scenarioState: 0,\r\n  ethPrivateKey: '',\r\n  infuraKey: '',\r\n  dfuseKey: '',\r\n  ratesIndex: 0,\r\n  uniswapRate: uniswapData[0],\r\n  kyberRate: kyberData[0],\r\n  txs: [],\r\n};\r\n\r\nconst INITIALIZE = 'INITIALIZE';\r\nconst initialize = (ethPrivateKey, infuraKey, dfuseKey) => ({\r\n  type: INITIALIZE,\r\n  payload: { ethPrivateKey, infuraKey, dfuseKey },\r\n});\r\n\r\nconst UPDATE_RATES = 'UPDATE_RATES';\r\nconst updateRates = () => ({\r\n  type: UPDATE_RATES,\r\n  payload: {},\r\n});\r\n\r\nconst ADD_TX = 'ADD_TX';\r\nconst addTx = (hash, sellDaiOnUniswap, cancel) => ({\r\n  type: ADD_TX,\r\n  payload: { hash, sellDaiOnUniswap, cancel },\r\n});\r\n\r\nconst mainReducer = (state = initialState, action) => {\r\n  let ratesIndex, uniswapRate, kyberRate, txs, relDeltaSlippageFree, shouldSwap, scenarioState;\r\n  switch (action.type) {\r\n    case INITIALIZE:\r\n      return Object.assign({}, state, {\r\n        isInitialized: true,\r\n        ethPrivateKey: action.payload.ethPrivateKey,\r\n        infuraKey: action.payload.infuraKey,\r\n        dfuseKey: action.payload.dfuseKey,\r\n      });\r\n    case ADD_TX:\r\n      txs = state.txs;\r\n      txs.unshift({\r\n        hash: action.payload.hash,\r\n        sellDaiOnUniswap: action.payload.sellDaiOnUniswap,\r\n        cancel: action.payload.cancel,\r\n      });\r\n      return Object.assign({}, state, {\r\n        txs: txs.slice(),\r\n      });\r\n    case UPDATE_RATES:\r\n      ratesIndex = state.ratesIndex + 1;\r\n      uniswapRate =\r\n        ratesIndex < uniswapData.length\r\n          ? uniswapData[ratesIndex]\r\n          : uniswapData[uniswapData.length - 1] + Math.random() * 0.01;\r\n      kyberRate =\r\n        ratesIndex < kyberData.length\r\n          ? kyberData[ratesIndex]\r\n          : kyberData[kyberData.length - 1] + Math.random() * 0.01;\r\n\r\n      relDeltaSlippageFree = getRelDeltaSlippageFree(uniswapRate, kyberRate);\r\n      shouldSwap = relDeltaSlippageFree > AAVE_THRESHOLD;\r\n      scenarioState = state.scenarioState;\r\n      if (scenarioState === 0 && shouldSwap && uniswapRate > kyberRate) {\r\n        scenarioState = 1;\r\n        submitFlashLoan(false);\r\n      } else if (scenarioState === 1 && !shouldSwap && uniswapRate > kyberRate) {\r\n        scenarioState = 2;\r\n        cancelFlashLoan();\r\n      } else if (scenarioState === 2 && shouldSwap && uniswapRate < kyberRate) {\r\n        scenarioState = 3;\r\n        submitFlashLoan(true);\r\n      }\r\n      return Object.assign({}, state, {\r\n        scenarioState,\r\n        ratesIndex,\r\n        uniswapRate,\r\n        kyberRate,\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst reducer = combineReducers({\r\n  main: mainReducer,\r\n});\r\n\r\nexport function configureStore(initialState = {}) {\r\n  // Middleware and store enhancers\r\n  const enhancers = [applyMiddleware(thunk)];\r\n\r\n  let store;\r\n  if (process.env.NODE_ENV === 'development') {\r\n    store = createStore(reducer, initialState, composeWithDevTools(...enhancers));\r\n  } else {\r\n    store = createStore(reducer, initialState, compose(...enhancers));\r\n  }\r\n\r\n  return store;\r\n}\r\n\r\nexport { updateRates, initialize, addTx };\r\n","const AAVE_THRESHOLD = 0.0035;\r\nconst SLIPPAGE_RATE = 0.005;\r\n\r\nexport { AAVE_THRESHOLD, SLIPPAGE_RATE };\r\n","import { createDfuseClient } from '@dfuse/client';\r\n\r\nlet dfuseClient;\r\n\r\nconst initDfuse = apiKey => {\r\n  // init client\r\n  dfuseClient = createDfuseClient({\r\n    apiKey: apiKey,\r\n    network: 'ropsten.eth.dfuse.io',\r\n  });\r\n};\r\n\r\nexport { initDfuse, dfuseClient };\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Box, Image, Table, TableBody, TableCell, TableRow, Text } from 'grommet';\r\nimport daiLogo from '../media/dai-50.png';\r\nimport batLogo from '../media/bat-50.png';\r\n\r\nconst BalanceBox = ({ currencyName, currencyLogo, userBalance, aaveLiquidity }) => (\r\n  <Box fill elevation={'small'} pad={'xsmall'}>\r\n    <Image margin={{ bottom: 'small' }} src={currencyLogo} fit={'contain'} />\r\n    <Table>\r\n      <TableBody>\r\n        <TableRow>\r\n          <TableCell align={'right'}>\r\n            <Text size={'small'}>User balance :</Text>\r\n          </TableCell>\r\n          <TableCell align={'left'}>\r\n            <Text size={'small'}>{`${userBalance} ${currencyName}`}</Text>\r\n          </TableCell>\r\n        </TableRow>\r\n        <TableRow>\r\n          <TableCell align={'right'}>\r\n            <Text size={'small'}>Liquidity in Aave :</Text>\r\n          </TableCell>\r\n          <TableCell align={'left'}>\r\n            <Text size={'small'}>{`${aaveLiquidity} ${currencyName}`}</Text>\r\n          </TableCell>\r\n        </TableRow>\r\n        <TableRow>\r\n          <TableCell align={'right'}>\r\n            <Text>{`Total balance :`}</Text>\r\n          </TableCell>\r\n          <TableCell align={'left'}>\r\n            <Text>{`${userBalance + aaveLiquidity} ${currencyName}`}</Text>\r\n          </TableCell>\r\n        </TableRow>\r\n      </TableBody>\r\n    </Table>\r\n  </Box>\r\n);\r\n\r\nBalanceBox.propTypes = {\r\n  currencyName: PropTypes.string.isRequired,\r\n  currencyLogo: PropTypes.string.isRequired,\r\n  userBalance: PropTypes.number.isRequired,\r\n  aaveLiquidity: PropTypes.number.isRequired,\r\n};\r\n\r\nconst Balances = () => (\r\n  <Box fill gap=\"small\" direction={'row'}>\r\n    <BalanceBox currencyName={'DAI'} currencyLogo={daiLogo} userBalance={15} aaveLiquidity={20} />\r\n    <BalanceBox currencyName={'BAT'} currencyLogo={batLogo} userBalance={54} aaveLiquidity={2} />\r\n  </Box>\r\n);\r\n\r\nexport default Balances;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Box, Meter, Table, TableBody, TableCell, TableRow, Text } from 'grommet';\r\nimport PropTypes from 'prop-types';\r\nimport uniswapData from '../util/uniswapData';\r\nimport kyberData from '../util/kyberData';\r\n\r\nconst MIN_RATE = Math.min(...[].concat(uniswapData, kyberData));\r\nconst MAX_RATE = Math.max(...[].concat(uniswapData, kyberData));\r\n\r\nconst RateBox = ({ dexName, rate }) => (\r\n  <TableRow>\r\n    <TableCell align={'right'}>\r\n      <Text>{`1 BAT/DAI price on ${dexName} :`}</Text>\r\n    </TableCell>\r\n    <TableCell align={'left'}>\r\n      <Meter\r\n        type=\"bar\"\r\n        max={MAX_RATE - MIN_RATE}\r\n        values={[{ value: rate - MIN_RATE, color: 'accent-3' }]}\r\n        size={'small'}\r\n        thickness={'small'}\r\n      />\r\n      <Text margin={{ left: 'xsmall' }}>{`${rate.toFixed(4)} `}</Text>\r\n      <Text size={'small'}>{`(max slippage : 0.5%)`}</Text>\r\n    </TableCell>\r\n  </TableRow>\r\n);\r\n\r\nRateBox.propTypes = {\r\n  dexName: PropTypes.string.isRequired,\r\n  rate: PropTypes.number.isRequired,\r\n};\r\n\r\nconst Rates = ({ uniswapRate, kyberRate }) => (\r\n  <Box fill={true} elevation={'small'} pad={'xsmall'}>\r\n    <Table>\r\n      <TableBody>\r\n        <RateBox dexName={'Uniswap'} rate={uniswapRate} />\r\n        <RateBox dexName={'Kyber'} rate={kyberRate} />\r\n      </TableBody>\r\n    </Table>\r\n  </Box>\r\n);\r\n\r\nRates.propTypes = {\r\n  uniswapRate: PropTypes.number.isRequired,\r\n  kyberRate: PropTypes.number.isRequired,\r\n};\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    uniswapRate: store.main.uniswapRate,\r\n    kyberRate: store.main.kyberRate,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Rates);\r\n","import React from 'react';\r\nimport { Box, Meter, Table, TableBody, TableCell, TableRow, Text } from 'grommet';\r\nimport { AAVE_THRESHOLD } from '../util/constants';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport getRelDeltaSlippageFree from '../util/getRelDeltaSlippageFree';\r\n\r\nconst Return = ({ uniswapRate, kyberRate }) => {\r\n  const relDeltaSlippageFree = getRelDeltaSlippageFree(uniswapRate, kyberRate);\r\n  const shouldSwap = relDeltaSlippageFree > AAVE_THRESHOLD;\r\n  return (\r\n    <Box fill={true} elevation={'small'} pad={'xsmall'}>\r\n      <Table>\r\n        <TableBody>\r\n          <TableRow>\r\n            <TableCell align={'right'}>\r\n              <Text>{`Aave fees :`}</Text>\r\n            </TableCell>\r\n            <TableCell align={'left'}>\r\n              <Meter\r\n                type=\"bar\"\r\n                max={0.02}\r\n                values={[{ value: AAVE_THRESHOLD, color: 'brand' }]}\r\n                size={'small'}\r\n                thickness={'small'}\r\n              />\r\n              <Text margin={{ left: 'xsmall' }}>{`${(AAVE_THRESHOLD * 100).toFixed(4)}%`}</Text>\r\n            </TableCell>\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell align={'right'}>\r\n              <Text>{`Expected return on arbitrage :`}</Text>\r\n            </TableCell>\r\n            <TableCell align={'left'}>\r\n              <Meter\r\n                type=\"bar\"\r\n                max={0.02}\r\n                values={[\r\n                  {\r\n                    value: relDeltaSlippageFree,\r\n                    color: shouldSwap ? 'status-ok' : 'status-error',\r\n                  },\r\n                ]}\r\n                size={'small'}\r\n                thickness={'small'}\r\n              />\r\n              <Text weight={'bold'} margin={{ left: 'xsmall' }}>{`${(\r\n                relDeltaSlippageFree * 100\r\n              ).toFixed(4)}%`}</Text>\r\n            </TableCell>\r\n          </TableRow>\r\n        </TableBody>\r\n      </Table>\r\n    </Box>\r\n  );\r\n};\r\n\r\nReturn.propTypes = {\r\n  uniswapRate: PropTypes.number.isRequired,\r\n  kyberRate: PropTypes.number.isRequired,\r\n};\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    uniswapRate: store.main.uniswapRate,\r\n    kyberRate: store.main.kyberRate,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Return);\r\n","import React from 'react';\r\nimport { Box, Text } from 'grommet';\r\nimport Balances from './Balances';\r\nimport Rates from './Rates';\r\nimport Return from './Return';\r\n\r\nconst Stats = () => (\r\n  <Box fill gap=\"small\">\r\n    <Box fill={true} elevation={'medium'} pad={'small'} background={'accent-1'}>\r\n      <Text textAlign={'center'} size={'large'}>\r\n        Rate Monitor\r\n      </Text>\r\n    </Box>\r\n    <Balances />\r\n    <Rates />\r\n    <Return />\r\n  </Box>\r\n);\r\n\r\nexport default Stats;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Box, Anchor, TableCell, TableRow, Text } from 'grommet';\r\nimport { dfuseClient } from '../util/dfuse';\r\nimport streamTransactionQuery from '../util/dfuse/streamTransactionQuery';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst TxBox = ({ cancel, sellDaiOnUniswap, txHash }) => {\r\n  const [state, setState] = useState('UNKNOWN');\r\n  const [error, setError] = useState('');\r\n\r\n  const getBgColor = () => {\r\n    if (error) return 'status-unknown';\r\n    switch (state) {\r\n      case 'IN_BLOCK':\r\n        return 'status-ok';\r\n      case 'REPLACED':\r\n        return 'status-error';\r\n      case 'PENDING':\r\n        return 'status-warning';\r\n      default:\r\n        return 'status-unknown';\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const stream = await dfuseClient.graphql(\r\n        streamTransactionQuery,\r\n        message => {\r\n          if (message.type === 'error') {\r\n            setError(message.errors[0].message);\r\n          }\r\n\r\n          if (message.type === 'data') {\r\n            setState(message.data.transactionLifecycle.currentState);\r\n          }\r\n        },\r\n        {\r\n          variables: {\r\n            hash: txHash,\r\n          },\r\n        },\r\n      );\r\n      await stream.join(); // awaits stream completion, which is never for this operation\r\n    })();\r\n  }, [txHash]);\r\n\r\n  return (\r\n    <Box background={getBgColor()} fill={true} elevation={'small'} pad={'xsmall'}>\r\n      {error ? (\r\n        <Text>{error}</Text>\r\n      ) : (\r\n        <TableRow>\r\n          <TableCell align={'left'}>\r\n            <Text weight={'bold'}>{`Tx :`}</Text>{' '}\r\n            <Anchor href={`https://ropsten.etherscan.io/tx/${txHash}`}>\r\n              {txHash.substr(0, 8)}â€¦\r\n            </Anchor>\r\n          </TableCell>\r\n          <TableCell align={'left'}>\r\n            <Text weight={'bold'}>{`Type :`}</Text>{' '}\r\n            <Text>\r\n              {cancel\r\n                ? 'Cancel previous tx'\r\n                : sellDaiOnUniswap\r\n                ? 'Sell BAT on Kyber, buy on Uniswap.'\r\n                : 'Sell BAT on Uniswap, buy on Kyber.'}\r\n            </Text>\r\n          </TableCell>\r\n          <TableCell align={'left'}>\r\n            <Text weight={'bold'}>{`State :`}</Text> <Text>{state}</Text>\r\n          </TableCell>\r\n        </TableRow>\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nTxBox.propTypes = {\r\n  txHash: PropTypes.string.isRequired,\r\n  sellDaiOnUniswap: PropTypes.bool.isRequired,\r\n  cancel: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default TxBox;\r\n","const streamTransactionQuery = `\r\n     subscription($hash: String!){\r\n      transactionLifecycle(hash: $hash){\r\n        previousState\r\n        currentState\r\n        transitionName\r\n        transition{\r\n          __typename\r\n\r\n        ... on TrxTransitionInit {\r\n            transaction {\r\n            ...TransactionFragment\r\n            }\r\n            blockHeader {\r\n            ...BlockHeaderFragment\r\n            }\r\n            trace {\r\n            ...TransactionTraceFragment\r\n            }\r\n            confirmations\r\n            replacedById\r\n          }\r\n\r\n        ...on TrxTransitionPooled {\r\n            transaction {\r\n            ...TransactionFragment\r\n            }\r\n          }\r\n\r\n        ...on TrxTransitionMined {\r\n            blockHeader {\r\n            ...BlockHeaderFragment\r\n            }\r\n            trace {\r\n            ...TransactionTraceFragment\r\n            }\r\n            confirmations\r\n          }\r\n\r\n        ...on TrxTransitionForked {\r\n            transaction {\r\n            ...TransactionFragment\r\n            }\r\n          }\r\n\r\n        ...on TrxTransitionConfirmed {\r\n            confirmations\r\n          }\r\n\r\n        ...on TrxTransitionReplaced {\r\n            replacedById\r\n          }\r\n\r\n        }\r\n      }\r\n    }\r\n\r\n    fragment TransactionFragment on Transaction {\r\n      hash\r\n      from\r\n      to\r\n      nonce\r\n      gasPrice\r\n      gasLimit\r\n      value\r\n      inputData\r\n      signature {\r\n        v\r\n        s\r\n        r\r\n      }\r\n    }\r\n\r\n    fragment TransactionTraceFragment on TransactionTrace {\r\n      hash\r\n      from\r\n      to\r\n      nonce\r\n      gasPrice\r\n      gasLimit\r\n      value\r\n      inputData\r\n      signature {\r\n        v\r\n        s\r\n        r\r\n      }\r\n      cumulativeGasUsed\r\n      publicKey\r\n      index\r\n      create\r\n      outcome\r\n    }\r\n\r\n    fragment BlockHeaderFragment on BlockHeader {\r\n      parentHash\r\n      unclesHash\r\n      coinbase\r\n      stateRoot\r\n      transactionsRoot\r\n      receiptRoot\r\n      logsBloom\r\n      difficulty\r\n      number\r\n      gasLimit\r\n      gasUsed\r\n      timestamp\r\n      extraData\r\n      mixHash\r\n      nonce\r\n      hash\r\n    }`;\r\n\r\nexport default streamTransactionQuery;\r\n","import React, { Fragment } from 'react';\r\nimport { Box, Text } from 'grommet';\r\nimport TxBox from './TxBox';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nconst TxQueue = ({ txs }) => (\r\n  <Box fill gap=\"small\">\r\n    <Box fill={true} elevation={'medium'} background={'accent-2'} pad={'small'}>\r\n      <Text textAlign={'center'} size={'large'}>\r\n        Transaction Pool\r\n      </Text>\r\n    </Box>\r\n    {txs.length ? (\r\n      <Fragment>\r\n        {txs.map(tx => (\r\n          <TxBox\r\n            txHash={tx.hash}\r\n            sellDaiOnUniswap={tx.sellDaiOnUniswap}\r\n            cancel={tx.cancel}\r\n            key={tx.hash}\r\n          />\r\n        ))}\r\n      </Fragment>\r\n    ) : (\r\n      <Box fill={true} elevation={'small'} pad={'xsmall'}>\r\n        <Text>No transaction</Text>\r\n      </Box>\r\n    )}\r\n  </Box>\r\n);\r\n\r\nTxQueue.propTypes = {\r\n  txs: PropTypes.array,\r\n};\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    txs: store.main.txs,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(TxQueue);\r\n","import React from 'react';\r\nimport { Box, Text, Form, FormField, Button, CheckBox } from 'grommet';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { initialize, updateRates } from '../store';\r\nimport { store } from '../index';\r\nimport { initWeb3 } from '../util/web3';\r\nimport { initDfuse } from '../util/dfuse';\r\n\r\nconst startRateUpdates = () => {\r\n  setInterval(() => {\r\n    store.dispatch(updateRates());\r\n  }, 500);\r\n};\r\n\r\nconst ConnexionForm = ({ initialize }) => {\r\n  const onSubmit = ({ value }) => {\r\n    const { ethPrivateKey, infuraKey, dfuseKey } = value;\r\n    if (\r\n      ethPrivateKey.length !== 66 ||\r\n      !(ethPrivateKey.startsWith('0x') || ethPrivateKey.startsWith('0X')) ||\r\n      infuraKey.length < 30 ||\r\n      infuraKey.length > 34 ||\r\n      dfuseKey.length < 38 ||\r\n      dfuseKey.length > 40 ||\r\n      !dfuseKey.startsWith('server_')\r\n    )\r\n      return;\r\n    initialize(ethPrivateKey, infuraKey, dfuseKey);\r\n    initWeb3(infuraKey, ethPrivateKey);\r\n    initDfuse(dfuseKey);\r\n    startRateUpdates();\r\n  };\r\n\r\n  return (\r\n    <Box fill gap=\"small\">\r\n      <Box fill={true} elevation={'medium'} pad={'small'} background={'accent-1'}>\r\n        <Text textAlign={'center'} size={'large'}>\r\n          Flash Arbitrage Watcher\r\n        </Text>\r\n      </Box>\r\n      <Box fill elevation={'small'} pad={'xsmall'}>\r\n        <Form onSubmit={onSubmit}>\r\n          <FormField label=\"Ropsten private key\" name=\"ethPrivateKey\" type=\"password\" required />\r\n          <FormField label=\"Infura API key\" name=\"infuraKey\" type=\"password\" required />\r\n          <FormField label=\"Dfuse API key\" name=\"dfuseKey\" type=\"password\" required />\r\n          <FormField\r\n            margin={{ top: 'medium' }}\r\n            component={CheckBox}\r\n            label=\"I acknowledge that running the demo will spend some Ropsten ETH.\"\r\n            required\r\n          />\r\n          <Box direction=\"row\" justify={'center'} margin={{ top: 'medium' }}>\r\n            <Button type=\"submit\" label=\"Start the demo\" primary />\r\n          </Box>\r\n        </Form>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nConnexionForm.propTypes = {\r\n  initialize: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  initialize: (ethPrivateKey, infuraKey, dfuseKey) => {\r\n    dispatch(initialize(ethPrivateKey, infuraKey, dfuseKey));\r\n  },\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(ConnexionForm);\r\n","import React from 'react';\r\nimport { Box, Grommet, Main } from 'grommet';\r\nimport Stats from './components/Stats';\r\nimport TxQueue from './components/TxQueue';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport ConnexionForm from './components/ConnexionForm';\r\n\r\nconst App = ({ isInitialized }) => (\r\n  <Grommet>\r\n    <Main pad=\"medium\" margin={{ horizontal: 'auto' }} width={'50%'}>\r\n      {isInitialized ? (\r\n        <Box gap={'large'}>\r\n          <Stats />\r\n          <TxQueue />\r\n        </Box>\r\n      ) : (\r\n        <ConnexionForm />\r\n      )}\r\n    </Main>\r\n  </Grommet>\r\n);\r\n\r\nApp.propTypes = {\r\n  isInitialized: PropTypes.bool.isRequired,\r\n};\r\n\r\nconst mapStateToProps = store => {\r\n  return {\r\n    isInitialized: store.main.isInitialized,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { configureStore } from './store';\r\nimport { Provider } from 'react-redux';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nconst store = configureStore(window.__INITIAL_STATE__);\r\nexport { store };\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}